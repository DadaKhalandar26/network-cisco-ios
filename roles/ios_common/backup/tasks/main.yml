---
- name: Precheck — Verify device reachability and prerequisites
  import_tasks: precheck.yml

- name: Backup — Create local running-config backup on controller
  import_tasks: backup.yml

- name: Upload — Ensure remote directory and upload backup to SFTP
  import_tasks: upload.yml

- name: Verify — Confirm backup presence on remote SFTP host
  import_tasks: verify.yml

- name: Cleanup — Remove temporary local files and stop helpers
  import_tasks: cleanup.yml